{
 "about": {
  "channels": [
   "https://conda.anaconda.org/conda-forge"
  ],
  "conda_build_version": "3.21.7",
  "conda_private": false,
  "conda_version": "4.11.0",
  "description": "SingularityCE is the Community Edition of Singularity,\nan open source container platform designed to be\nsimple, fast, and secure.\n\nSingularity is a container platform focused on supporting \"Mobility of\nCompute\"\n\nMobility of Compute encapsulates the development to compute model where\ndevelopers can work in an environment of their choosing and creation and\nwhen the developer needs additional compute resources, this environment\ncan easily be copied and executed on other platforms. Additionally as the\nprimary use case for Singularity is targeted towards computational\nportability, many of the barriers to entry of other container solutions do\nnot apply to Singularity making it an ideal solution for users (both\ncomputational and non-computational) and HPC centers.\n",
  "dev_url": "https://github.com/sylabs/singularity",
  "doc_url": "https://www.sylabs.io/docs/",
  "env_vars": {
   "CIO_TEST": "<not set>"
  },
  "extra": {
   "copy_test_source_files": true,
   "final": true,
   "recipe-maintainers": [
    "ngam"
   ]
  },
  "home": "https://www.sylabs.io/singularity/",
  "identifiers": [],
  "keywords": [],
  "license": "BSD-3-Clause",
  "license_file": "src/github.com/sylabs/singularityce/LICENSE-LBNL.md",
  "root_pkgs": [
   "libgcc-ng 11.2.0 h1d223b6_11",
   "c-ares 1.18.1 h7f98852_0",
   "glob2 0.7 py_0",
   "pyyaml 6.0 py38h497a2fe_3",
   "brotlipy 0.7.0 py38h497a2fe_1003",
   "pyrsistent 0.18.0 py38h497a2fe_0",
   "setuptools 60.5.0 py38h578d9bd_0",
   "libnghttp2 1.43.0 h812cca2_1",
   "yaml-cpp 0.6.3 he1b5a44_4",
   "gettext 0.19.8.1 h73d1719_1008",
   "rich 11.0.0 pyhd8ed1ab_0",
   "ld_impl_linux-64 2.36.1 hea4e1c9_2",
   "libmamba 0.19.1 h3985d26_0",
   "joblib 1.1.0 pyhd8ed1ab_0",
   "pycparser 2.21 pyhd8ed1ab_0",
   "libffi 3.4.2 h7f98852_5",
   "jupyter_core 4.9.1 py38h578d9bd_1",
   "libstdcxx-ng 11.2.0 he4da1e4_11",
   "backports.functools_lru_cache 1.6.4 pyhd8ed1ab_0",
   "psutil 5.9.0 py38h497a2fe_0",
   "six 1.16.0 pyh6c4a22f_0",
   "reproc-cpp 14.2.3 h9c3ff4c_0",
   "libxml2 2.9.12 h885dcf4_1",
   "pytz 2021.3 pyhd8ed1ab_0",
   "markupsafe 2.0.1 py38h497a2fe_1",
   "typing_extensions 4.0.1 pyha770c72_0",
   "libcurl 7.81.0 h2574ce0_0",
   "conda-build 3.21.7 py38h578d9bd_0",
   "libmambapy 0.19.1 py38h908000c_0",
   "zlib 1.2.11 h36c2ea0_1013",
   "certifi 2021.10.8 py38h578d9bd_1",
   "pcre2 10.37 h032f7d1_0",
   "attrs 21.4.0 pyhd8ed1ab_0",
   "pysocks 1.7.1 py38h578d9bd_4",
   "readline 8.1 h46c0cb4_0",
   "pip 21.3.1 pyhd8ed1ab_0",
   "_libgcc_mutex 0.1 conda_forge",
   "json5 0.9.5 pyh9f0ad1d_0",
   "pycosat 0.6.3 py38h497a2fe_1009",
   "wcwidth 0.2.5 pyh9f0ad1d_2",
   "prompt-toolkit 3.0.24 pyha770c72_0",
   "tk 8.6.11 h27826a3_1",
   "importlib-metadata 4.10.0 py38h578d9bd_0",
   "yaml 0.2.5 h7f98852_2",
   "traitlets 5.1.1 pyhd8ed1ab_0",
   "libsolv 0.7.19 h780b84a_5",
   "backports 1.0 py_2",
   "wheel 0.37.1 pyhd8ed1ab_0",
   "sqlite 3.37.0 h9cd32fc_0",
   "openssl 1.1.1l h7f98852_0",
   "ripgrep 13.0.0 habb4d0f_1",
   "nbformat 5.1.3 pyhd8ed1ab_0",
   "git 2.34.1 pl5321hc30692c_0",
   "libev 4.33 h516909a_1",
   "cryptography 36.0.1 py38h3e25421_0",
   "prompt_toolkit 3.0.24 hd8ed1ab_0",
   "libiconv 1.16 h516909a_0",
   "su-exec 0.2 h516909a_1002",
   "pkginfo 1.8.2 pyhd8ed1ab_0",
   "liblief 0.11.5 h9c3ff4c_1",
   "ruamel.yaml.clib 0.2.6 py38h497a2fe_0",
   "python_abi 3.8 2_cp38",
   "lz4-c 1.9.3 h9c3ff4c_1",
   "watchgod 0.7 pyhd8ed1ab_0",
   "patchelf 0.14.3 h58526e2_0",
   "clyent 1.2.2 py_1",
   "perl 5.32.1 1_h7f98852_perl5",
   "pyopenssl 21.0.0 pyhd8ed1ab_0",
   "filelock 3.4.2 pyhd8ed1ab_1",
   "chardet 4.0.0 py38h578d9bd_2",
   "future 0.18.2 py38h578d9bd_4",
   "python-dateutil 2.8.2 pyhd8ed1ab_0",
   "bzip2 1.0.8 h7f98852_4",
   "krb5 1.19.2 hcc1bbae_3",
   "tqdm 4.62.3 pyhd8ed1ab_0",
   "colorama 0.4.4 pyh9f0ad1d_0",
   "ruamel.yaml 0.17.19 py38h497a2fe_0",
   "boa 0.8.1 pyha770c72_0",
   "libedit 3.1.20191231 he28a2e2_2",
   "idna 3.1 pyhd3deb0d_0",
   "expat 2.4.2 h9c3ff4c_0",
   "jsonschema 4.4.0 pyhd8ed1ab_0",
   "xz 5.2.5 h516909a_1",
   "ncurses 6.2 h58526e2_4",
   "tini 0.18.0 h14c3975_1001",
   "charset-normalizer 2.0.10 pyhd8ed1ab_0",
   "zipp 3.7.0 pyhd8ed1ab_0",
   "beautifulsoup4 4.10.0 pyha770c72_0",
   "libuuid 2.32.1 h7f98852_1000",
   "python 3.8.12 hb7a2778_2_cpython",
   "patch 2.7.6 h7f98852_1002",
   "ruamel_yaml 0.15.80 py38h497a2fe_1006",
   "libarchive 3.5.2 hccf745f_1",
   "urllib3 1.26.8 pyhd8ed1ab_1",
   "curl 7.81.0 h2574ce0_0",
   "soupsieve 2.3.1 pyhd8ed1ab_0",
   "conda 4.11.0 py38h578d9bd_0",
   "mamba 0.19.1 py38h1abaa86_0",
   "lzo 2.10 h516909a_1000",
   "libnsl 2.0.0 h7f98852_0",
   "anaconda-client 1.8.0 pyhd8ed1ab_0",
   "_openmp_mutex 4.5 1_gnu",
   "requests 2.27.1 pyhd8ed1ab_0",
   "tzdata 2021e he74cb21_0",
   "libzlib 1.2.11 h36c2ea0_1013",
   "commonmark 0.9.1 py_0",
   "ca-certificates 2021.10.8 ha878542_0",
   "zstd 1.5.1 ha95c52a_0",
   "jinja2 3.0.3 pyhd8ed1ab_0",
   "libgomp 11.2.0 h1d223b6_11",
   "conda-package-handling 1.7.3 py38h497a2fe_1",
   "dataclasses 0.8 pyhc8e2a94_3",
   "icu 69.1 h9c3ff4c_0",
   "py-lief 0.11.5 py38h709712a_1",
   "pygments 2.11.2 pyhd8ed1ab_0",
   "libssh2 1.10.0 ha56f1ee_2",
   "importlib_resources 5.4.0 pyhd8ed1ab_0",
   "pybind11-abi 4 hd8ed1ab_3",
   "ipython_genutils 0.2.0 py_1",
   "reproc 14.2.3 h7f98852_0",
   "cffi 1.15.0 py38h3931269_0",
   "python-libarchive-c 3.2 py38h578d9bd_0",
   "click 8.0.3 py38h578d9bd_1",
   "conda-forge-ci-setup 3.18.1 py38h7bc8238_0",
   "conda-env 2.6.0 1",
   "shyaml 0.6.2 pyhd3deb0d_0",
   "jq 1.6 h36c2ea0_1000",
   "oniguruma 6.9.7.1 h7f98852_0"
  ],
  "summary": "SingularityCE is the Community Edition of Singularity, an open source container platform designed to be simple, fast, and secure.",
  "tags": []
 },
 "conda_build_config": {
  "CI": "azure",
  "c_compiler": "gcc",
  "c_compiler_version": "9",
  "cdt_name": "cos7",
  "cgo_compiler": "go-cgo",
  "channel_sources": "conda-forge",
  "channel_targets": "conda-forge main",
  "cpu_optimization_target": "nocona",
  "cran_mirror": "https://cran.r-project.org",
  "cxx_compiler": "gxx",
  "cxx_compiler_version": "9",
  "docker_image": "quay.io/condaforge/linux-anvil-cos7-x86_64",
  "extend_keys": [
   "ignore_version",
   "pin_run_as_build",
   "ignore_build_only_deps",
   "extend_keys"
  ],
  "fortran_compiler": "gfortran",
  "ignore_build_only_deps": [
   "python",
   "numpy"
  ],
  "libarchive": "3.5",
  "libuuid": "2",
  "lua": "5",
  "numpy": "1.16",
  "openssl": "3",
  "perl": "5.26.2",
  "pin_run_as_build": {
   "libuuid": {
    "max_pin": "x"
   },
   "python": {
    "max_pin": "x.x",
    "min_pin": "x.x"
   },
   "r-base": {
    "max_pin": "x.x",
    "min_pin": "x.x"
   }
  },
  "python": "3.8",
  "r_base": "3.5",
  "target_platform": "linux-64",
  "zip_keys": [
   [
    "c_compiler_version",
    "cxx_compiler_version"
   ]
  ]
 },
 "files": [
  "bin/run-singularity",
  "bin/singularity",
  "etc/bash_completion.d/singularity",
  "etc/cni/net.d/00_bridge.conflist",
  "etc/cni/net.d/10_ptp.conflist",
  "etc/cni/net.d/20_ipvlan.conflist",
  "etc/cni/net.d/30_macvlan.conflist",
  "etc/cni/net.d/40_fakeroot.conflist",
  "etc/singularity/capability.json",
  "etc/singularity/cgroups/cgroups.toml",
  "etc/singularity/ecl.toml",
  "etc/singularity/global-pgp-public",
  "etc/singularity/nvliblist.conf",
  "etc/singularity/remote.yaml",
  "etc/singularity/rocmliblist.conf",
  "etc/singularity/seccomp-profiles/default.json",
  "etc/singularity/singularity.conf",
  "libexec/singularity/bin/starter",
  "var/singularity/mnt/session/.mkdir"
 ],
 "index": {
  "arch": "x86_64",
  "build": "hf1ae047_0",
  "build_number": 0,
  "constrains": [
   "apptainer ==9999999999",
   "singularity ==9999999999"
  ],
  "depends": [
   "__glibc >=2.17,<3.0.a0",
   "cni-plugins >=0.7.4",
   "libarchive >=3.5.2,<3.6.0a0",
   "libgcc-ng >=9.4.0",
   "libseccomp >=2.4.4,<3.0a0",
   "libstdcxx-ng >=9.4.0",
   "libuuid >=2.32.1,<3.0a0",
   "openssl >=3.0.0,<4.0a0",
   "squashfs-tools"
  ],
  "license": "BSD-3-Clause",
  "name": "singularityce",
  "platform": "linux",
  "subdir": "linux-64",
  "timestamp": 1642652032339,
  "version": "3.9.4"
 },
 "metadata_version": 1,
 "name": "singularityce",
 "raw_recipe": "{% set version = \"3.9.4\" %}\n\npackage:\n  name: singularityce\n  version: {{ version }}\n\nsource:\n  - folder: src/github.com/sylabs/singularityce\n    url: https://github.com/sylabs/singularity/releases/download/v{{ version }}/singularity-ce-{{ version }}.tar.gz\n    sha256: 57e32439599620c110e029230d5ace140257fb3ade6515e5163c0d394f539a87\n    patches:\n      - patches/0003-Use-external-CNI.patch\n      - patches/0004-Find-unsquashfs-from-PATH.diff\n      - patches/set-version-from-env.patch\n\nbuild:\n  number: 0\n  skip: true  # [not linux]\n  # The binary is made runtime relocatable using the included patch\n  detect_binary_files_with_prefix: false\n\nrequirements:\n  build:\n    - {{ compiler('c') }}\n    - {{ compiler('cxx') }}\n    - {{ compiler('cgo') }}\n    - sysroot_linux-64 2.17  # [linux64]\n    - make\n    - pkg-config\n    - go-dep\n    - sed\n  host:\n    - libuuid  # [linux]\n    - libarchive\n    - libseccomp  # [linux]\n    - openssl\n  run:\n    # CNI version from singularity/Gopkg.lock\n    - cni-plugins >=0.7.4  # [linux]\n    - squashfs-tools  # [linux]\n  run_constrained:\n    - __osx >={{ MACOSX_DEPLOYMENT_TARGET|default(\"10.9\") }}  # [osx]\n    - singularity ==9999999999\n    - apptainer ==9999999999\n\ntest:\n  commands:\n    - singularity --help\n    # disable these tests to ensure verbosity problem isn't from here (ngam)\n    - singularity --version\n\n    # Ensure the version is set correctly\n    - singularity --version | grep {{ version }}\n\n    # Ensure we are using conda's CNI\n    - test ! -d $PREFIX/libexec/singularity/cni\n    - test -d $PREFIX/lib/cni\n\n    - test ! -d $PREFIX/etc/singularity/network\n    - test -f $PREFIX/etc/cni/net.d/00_bridge.conflist\n\n    # UserNS test\n    # ngam 20211115: ppc64le build without --sandbox (otherwise fails with mount problems)\n    # ngam 20211115: likely related to below issue re --privileged\n    - singularity build lolcow docker://godlovedc/lolcow  # [ppc64le]\n    - singularity build --sandbox lolcow docker://godlovedc/lolcow  # [not ppc64le]\n\n    # The remaining tests are disabled on ppc64le due to issues launching docker with --privileged\n    # Either run the container or fail due to user namespaces being disabled\n    - \"singularity --verbose --debug run -u lolcow || (singularity --verbose --debug run -u lolcow 2>&1 | grep 'Failed to create user namespace: user namespace requires to set')\"  # [linux64]\n\n    # https://github.com/hpcng/singularity/issues/5668\n    - singularity pull library://alpine  # [linux64]\n    - singularity --verbose --debug run -u alpine_latest.sif echo \"Hello world\"  # [linux64]\n\nabout:\n  home: https://www.sylabs.io/singularity/\n  license: BSD-3-Clause\n  license_file: src/github.com/sylabs/singularityce/LICENSE-LBNL.md\n  summary: SingularityCE is the Community Edition of Singularity, an open source container platform designed to be simple, fast, and secure.\n\n  description: |\n    SingularityCE is the Community Edition of Singularity, \n    an open source container platform designed to be \n    simple, fast, and secure.\n\n    Singularity is a container platform focused on supporting \"Mobility of\n    Compute\"\n\n    Mobility of Compute encapsulates the development to compute model where\n    developers can work in an environment of their choosing and creation and\n    when the developer needs additional compute resources, this environment\n    can easily be copied and executed on other platforms. Additionally as the\n    primary use case for Singularity is targeted towards computational\n    portability, many of the barriers to entry of other container solutions do\n    not apply to Singularity making it an ideal solution for users (both\n    computational and non-computational) and HPC centers.\n\n  dev_url: https://github.com/sylabs/singularity\n  doc_url: https://www.sylabs.io/docs/\n\nextra:\n  recipe-maintainers:\n    - ngam\n",
 "rendered_recipe": {
  "about": {
   "description": "SingularityCE is the Community Edition of Singularity,\nan open source container platform designed to be\nsimple, fast, and secure.\n\nSingularity is a container platform focused on supporting \"Mobility of\nCompute\"\n\nMobility of Compute encapsulates the development to compute model where\ndevelopers can work in an environment of their choosing and creation and\nwhen the developer needs additional compute resources, this environment\ncan easily be copied and executed on other platforms. Additionally as the\nprimary use case for Singularity is targeted towards computational\nportability, many of the barriers to entry of other container solutions do\nnot apply to Singularity making it an ideal solution for users (both\ncomputational and non-computational) and HPC centers.\n",
   "dev_url": "https://github.com/sylabs/singularity",
   "doc_url": "https://www.sylabs.io/docs/",
   "home": "https://www.sylabs.io/singularity/",
   "license": "BSD-3-Clause",
   "license_file": "src/github.com/sylabs/singularityce/LICENSE-LBNL.md",
   "summary": "SingularityCE is the Community Edition of Singularity, an open source container platform designed to be simple, fast, and secure."
  },
  "build": {
   "detect_binary_files_with_prefix": false,
   "number": "0",
   "string": "hf1ae047_0"
  },
  "extra": {
   "copy_test_source_files": true,
   "final": true,
   "recipe-maintainers": [
    "ngam"
   ]
  },
  "package": {
   "name": "singularityce",
   "version": "3.9.4"
  },
  "requirements": {
   "build": [
    "_go_select 2.3.0 cgo",
    "_libgcc_mutex 0.1 conda_forge",
    "_openmp_mutex 4.5 1_gnu",
    "_sysroot_linux-64_curr_repodata_hack 3 h5bd9786_13",
    "binutils_impl_linux-64 2.36.1 h193b22a_2",
    "binutils_linux-64 2.36 hf3e587d_4",
    "gcc_impl_linux-64 9.4.0 h03d3576_11",
    "gcc_linux-64 9.4.0 h391b98a_4",
    "go 1.17.6 h17d2266_0",
    "go-cgo_linux-64 1.17.6 hb09e268_1",
    "go-dep 0.5.4 ha8f183a_1",
    "gxx_impl_linux-64 9.4.0 h03d3576_11",
    "gxx_linux-64 9.4.0 h0316aca_4",
    "kernel-headers_linux-64 3.10.0 h4a8ded7_13",
    "ld_impl_linux-64 2.36.1 hea4e1c9_2",
    "libgcc-devel_linux-64 9.4.0 hd854feb_11",
    "libgcc-ng 11.2.0 h1d223b6_11",
    "libgfortran-ng 11.2.0 h69a702a_11",
    "libgfortran5 11.2.0 h5c6108e_11",
    "libgomp 11.2.0 h1d223b6_11",
    "libsanitizer 9.4.0 h79bfe98_11",
    "libstdcxx-devel_linux-64 9.4.0 hd854feb_11",
    "libstdcxx-ng 11.2.0 he4da1e4_11",
    "make 4.3 hd18ef5c_1",
    "pkg-config 0.29.2 h36c2ea0_1008",
    "sed 4.8 he412f7d_0",
    "sysroot_linux-64 2.17 h4a8ded7_13"
   ],
   "host": [
    "_libgcc_mutex 0.1 conda_forge",
    "_openmp_mutex 4.5 1_gnu",
    "bzip2 1.0.8 h7f98852_4",
    "ca-certificates 2021.10.8 ha878542_0",
    "icu 69.1 h9c3ff4c_0",
    "libarchive 3.5.2 hed592e5_1",
    "libgcc-ng 11.2.0 h1d223b6_11",
    "libgomp 11.2.0 h1d223b6_11",
    "libiconv 1.16 h516909a_0",
    "libseccomp 2.4.4 h7f98852_1",
    "libstdcxx-ng 11.2.0 he4da1e4_11",
    "libuuid 2.32.1 h7f98852_1000",
    "libxml2 2.9.12 h885dcf4_1",
    "libzlib 1.2.11 h36c2ea0_1013",
    "lz4-c 1.9.3 h9c3ff4c_1",
    "lzo 2.10 h516909a_1000",
    "openssl 3.0.0 h7f98852_2",
    "xz 5.2.5 h516909a_1",
    "zlib 1.2.11 h36c2ea0_1013",
    "zstd 1.5.1 ha95c52a_0"
   ],
   "run": [
    "__glibc >=2.17,<3.0.a0",
    "cni-plugins >=0.7.4",
    "libarchive >=3.5.2,<3.6.0a0",
    "libgcc-ng >=9.4.0",
    "libseccomp >=2.4.4,<3.0a0",
    "libstdcxx-ng >=9.4.0",
    "libuuid >=2.32.1,<3.0a0",
    "openssl >=3.0.0,<4.0a0",
    "squashfs-tools"
   ],
   "run_constrained": [
    "apptainer ==9999999999",
    "singularity ==9999999999"
   ]
  },
  "source": [
   {
    "folder": "src/github.com/sylabs/singularityce",
    "patches": [
     "patches/0003-Use-external-CNI.patch",
     "patches/0004-Find-unsquashfs-from-PATH.diff",
     "patches/set-version-from-env.patch"
    ],
    "sha256": "57e32439599620c110e029230d5ace140257fb3ade6515e5163c0d394f539a87",
    "url": "https://github.com/sylabs/singularity/releases/download/v3.9.4/singularity-ce-3.9.4.tar.gz"
   }
  ],
  "test": {
   "commands": [
    "singularity --help",
    "singularity --version",
    "singularity --version | grep 3.9.4",
    "test ! -d $PREFIX/libexec/singularity/cni",
    "test -d $PREFIX/lib/cni",
    "test ! -d $PREFIX/etc/singularity/network",
    "test -f $PREFIX/etc/cni/net.d/00_bridge.conflist",
    "singularity build --sandbox lolcow docker://godlovedc/lolcow",
    "singularity --verbose --debug run -u lolcow || (singularity --verbose --debug run -u lolcow 2>&1 | grep 'Failed to create user namespace: user namespace requires to set')",
    "singularity pull library://alpine",
    "singularity --verbose --debug run -u alpine_latest.sif echo \"Hello world\""
   ]
  }
 },
 "version": "3.9.4"
}